{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","turbopack:///[project]/src/app/app/home/page.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\"\r\nimport Image from \"next/image\";\r\nimport HTMLFlipBook from \"react-pageflip\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n\r\nfunction setCoookie(name, value, days = 365) {\r\n  const expires = new Date(Date.now() + days * 24 * 60 * 60 * 1000).toUTCString();\r\nif (typeof document !== 'undefined') {\r\n  document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires}; path=/`;}\r\n}\r\n\r\n\r\nfunction getCookie(name) {\r\nif (typeof document !== 'undefined') {\r\n  const match = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]+)\"));\r\n  return match ? decodeURIComponent(match[2]) : null;}\r\nelse\r\nreturn null\r\n} \r\n\r\nasync function fetchTodos(email) {\r\n  console.log('hey');\r\n  const res = await fetch(`/api/todo?email=${encodeURIComponent(email)}`, {\r\n    method: \"GET\",\r\n  });\r\n  let d = (await res.json());\r\n  console.log(d)\r\n  return d;\r\n}\r\n\r\nasync function syncTodos(email, todos) {\r\n  await fetch(\"/api/todo\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email, todos }),\r\n  });\r\n}\r\n\r\n\r\nexport default function Home() {\r\n    const [todos, setTodos] = useState(JSON.parse(getCookie(\"todos\")) || []);\r\n  const email = getCookie(\"email\");\r\n\r\n  useEffect( () => {\r\n   const illkms= async () => {\r\n   let cookie = getCookie(\"todos\");\r\n   if (email!=\"Guest\"){\r\n   await fetchTodos(email).then(data => {\r\n     if (data) {\r\n       cookie = JSON.stringify(data);\r\n     }\r\n   });}\r\n   console.log(cookie)\r\n    if (cookie) {\r\n      try {\r\n        setTodos(JSON.parse(cookie));\r\n      } catch {}\r\n    }}\r\n\r\n    illkms()\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setCoookie(\"todos\", JSON.stringify(todos));\r\nif (email!=\"Guest\") {\r\n    syncTodos(email, todos);\r\n}\r\n    console.log(todos)\r\n    }, [todos]);\r\n  return (\r\n    <div className=\"font-hand grid  items-center  min-h-screen p-8  \">\r\n      <main className=\"flex w-[75vw]  flex-col gap-[32px] scrollbar-hide row-start-2 items-center h-[90vh]   sm:items-start\">\r\n                <h1 className=\"text-8xl font-bold \">Todo List </h1>\r\n\r\n       <ul className=\"overflow-x-auto w-[70vw] px-5 \">\r\n          {todos.length > 0 ? todos.map((todo, idx) => (\r\n            <li key={idx} className=\"flex flex-col mb-4 border-b pb-2\">\r\n              <div className=\"flex text-3xl items-center justify-between\">\r\n                <span\r\n                  className={`cursor-pointer ${todo.done ? \"line-through text-gray-400\" : \"\"}`}\r\n                  onClick={() => {\r\n                    const updated = [...todos];\r\n                    updated[idx].done = !updated[idx].done;\r\n                    setTodos(updated);\r\n                  }}\r\n                >\r\n                  {todo.text}\r\n                  <span className=\"ml-2 text-xs text-gray-500\">\r\n                    {todo.timestamp ? new Date(todo.timestamp).toLocaleString() : \"\"}\r\n                  </span>\r\n                </span>\r\n                <button\r\n                  className=\"text-red-500 ml-4\"\r\n                  onClick={() => setTodos(todos.filter((_, i) => i !== idx))}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n\r\n              {/* === Show Note if Present === */}\r\n              {todo.note && <p className=\"text-lg text-gray-700 ml-2\">üìù {todo.note}</p>}\r\n\r\n              {/* === Show Deadline if Present === */}\r\n              {(todo.deadline && todo.deadline != 'null') && (\r\n                <p className=\"text-sm text-gray-500 ml-2\">\r\n                  ‚è≥ Deadline: {new Date(todo.deadline).toLocaleString()}\r\n                </p>\r\n              )}\r\n            </li>\r\n          )) : (\r\n            <li className=\"text-gray-500 text-4xl\">No tasks available. Create a Task</li>\r\n          )}\r\n        </ul>\r\n      </main>\r\n      \r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"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","ignoreList":[0]}